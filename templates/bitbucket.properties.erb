# NOTE: File managed by puppet: templates/bitbucket.properties.erb
<% if scope.function_versioncmp([scope['bitbucket::version'], '3.8.0']) >= 0 -%>
setup.displayName=<%= scope['bitbucket::display_name'] %>
setup.baseUrl=<%= scope['bitbucket::base_url'] %>
setup.license=<%= scope['bitbucket::license'] %>
setup.sysadmin.username=<%= scope['bitbucket::sysadmin_username'] %>
setup.sysadmin.password=<%= scope['bitbucket::sysadmin_password'] %>
setup.sysadmin.displayName=<%= scope['bitbucket::sysadmin_name'] %>
setup.sysadmin.emailAddress=<%= scope['bitbucket::sysadmin_email'] %>
<%- @config_properties.sort.each do |key,value| -%>
<%=   key %>=<%= value %>
<%- end -%>
<% end -%>
<% if scope.lookupvar('bitbucket::dbdriver') -%>jdbc.driver=<%= scope.lookupvar('bitbucket::dbdriver') %><% end %>
<% if scope.lookupvar('bitbucket::dburl') %>jdbc.url=<%= scope.lookupvar('bitbucket::dburl') %><% end %>
<% if scope.lookupvar('bitbucket::dbuser') %>jdbc.user=<%= scope.lookupvar('bitbucket::dbuser') %><% end %>
<% if scope.lookupvar('bitbucket::dbpassword') %>jdbc.password=<%= scope.lookupvar('bitbucket::dbpassword') %><% end %>
<% if scope.function_versioncmp([scope['bitbucket::version'], '5.0.0']) >= 0 -%>
<% if scope.lookupvar('bitbucket::tomcat_port') %>server.port=<%= scope.lookupvar('bitbucket::tomcat_port') %><% end %>
<% if scope.lookupvar('bitbucket::context_path') %>server.context-path=<%= scope.lookupvar('bitbucket::context_path') %><% end %>
<%- if @proxy -%>
<%- @proxy.sort.each do |key,value| -%>
<%= key %>=<%= value %>
<%- end -%>
<%- end -%>
<%- if @sso -%>
# Add sso here...
<%- end -%>
<% end -%>
